<div class="row">
	<h1>Code Fellows Students</h1>
</div>

<div class="row">
	<% if @all_students.empty? %>
	Sorry, there aren't any students here yet...
	<% else %>
	<table id="students" class="table">
		<thead>
			<tr>
				<th class="sort" data-sort="name">Name</th>
				<th>Skills</th>
				<th class="input-prepend">
					<span class="add-on"><i class="icon-filter"></i></span>
					<input id="student-filter" type="text" class="search input-medium" placeholder="Filter Students" />
				</th>
			</tr>
		</thead>
		<tbody class="list">
			<% @all_students.each do |student| %>
				<tr>
					<td class="name"><%= student.name %></td>
					<td class="skills"><%= student.skills %></td>

					<% unless current_user.admin? %>
						<td><% if @contacted_students.include? student %>
								<button class="btn disabled">Pending</button>
							<% else %>
								<%= button_to "Contact",
									{ controller: "relationships", action: "create", student_id: student.id },
									class: "btn btn-primary", form_class: "contact-button" %>
							<% end %>
						</td>
					<% end %>
				</tr>
			<% end %>
		</tbody>
	</table>
	<% end %>
</div>

<script>
	var options = {
	  valueNames: ['name', 'skills']
	};

	var studentsList = new List('students', options);
</script>
